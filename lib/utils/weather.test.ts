import { formatWeather } from "@/lib/utils/weather";
import weatherFixture from "@/lib/fixtures/weather.json";

test("formatWeather", () => {
  expect(formatWeather({ data: null, isMetric: true, is24hr: true })).toBe(
    null
  );

  expect(
    formatWeather({ data: weatherFixture, isMetric: true, is24hr: true })
  ).toStrictEqual({
    timezone: "America/Los_Angeles",
    alerts: undefined,
    current: {
      sunrisesSunsets: [
        // {
        //   type: "sunset",
        //   label: "Sunset",
        //   dt: new Date("2023-01-07T00:58:05.000Z"),
        //   date: "16:58",
        // },
        // {
        //   type: "sunrise",
        //   label: "Sunrise",
        //   dt: new Date("2023-01-07T14:59:06.000Z"),
        //   date: "06:59",
        // },
        // {
        //   type: "sunset",
        //   label: "Sunset",
        //   dt: new Date("2023-01-08T00:58:55.000Z"),
        //   date: "16:58",
        // },
        // {
        //   type: "sunrise",
        //   label: "Sunrise",
        //   dt: new Date("2023-01-08T14:59:06.000Z"),
        //   date: "06:59",
        // },
        // {
        //   type: "sunset",
        //   label: "Sunset",
        //   dt: new Date("2023-01-09T00:59:46.000Z"),
        //   date: "16:59",
        // },
        // {
        //   type: "sunrise",
        //   label: "Sunrise",
        //   dt: new Date("2023-01-09T14:59:04.000Z"),
        //   date: "06:59",
        // },
        // {
        //   type: "sunset",
        //   label: "Sunset",
        //   dt: new Date("2023-01-10T01:00:37.000Z"),
        //   date: "17:00",
        // },
      ],
      humidity: 85,
      temp: 10,
      dewPoint: 8,
      visibility: 10,
      visibilityUnit: "km",
      feelsLike: 10,
      pressure: 1020,
      rain: 0.65,
      rainLabel: "mm",
      rainMessage: "1.48mm expected in next 24hr.",
      snow: 0,
      snowLabel: "mm",
      snowMessage: "None expected in next 8 days.",
      uvIndex: 0,
      uvLabel: "Low",
      uvMessage: "Low levels rest of the day.",
      windSpeed: "3.6",
      windLabel: "m/s",
      windDirection: "S",
      airQuality: 61,
      airQualityLabel: "Good",
      airQualityMessage: "Enjoy normal activities.",
      moonPhase: 0.37,
      iconClassName: "wi wi-day-rain",
      label: "Light rain",
    },
    hourly: [
      {
        date: "Now",
        dt: new Date("2023-01-02T19:00:00.000Z"),
        temp: 10,
        precipitationChance: 89,
        iconClassName: "wi wi-day-rain",
        label: "Light rain",
      },
      {
        date: "21",
        dt: new Date("2023-01-02T20:00:00.000Z"),
        temp: 10,
        precipitationChance: 73,
        iconClassName: "wi wi-day-cloudy",
        label: "Overcast clouds",
      },
      {
        date: "22",
        dt: new Date("2023-01-02T21:00:00.000Z"),
        temp: 10,
        precipitationChance: 70,
        iconClassName: "wi wi-day-cloudy",
        label: "Overcast clouds",
      },
      {
        date: "23",
        dt: new Date("2023-01-02T22:00:00.000Z"),
        temp: 10,
        precipitationChance: 72,
        iconClassName: "wi wi-day-rain",
        label: "Light rain",
      },
      {
        date: "00",
        dt: new Date("2023-01-02T23:00:00.000Z"),
        temp: 10,
        precipitationChance: 77,
        iconClassName: "wi wi-day-rain",
        label: "Light rain",
      },
      {
        date: "01",
        dt: new Date("2023-01-03T00:00:00.000Z"),
        temp: 10,
        precipitationChance: 83,
        iconClassName: "wi wi-day-cloudy",
        label: "Overcast clouds",
      },
      {
        date: "02",
        dt: new Date("2023-01-03T01:00:00.000Z"),
        temp: 10,
        precipitationChance: 87,
        iconClassName: "wi wi-day-rain",
        label: "Light rain",
      },
      {
        date: "03",
        dt: new Date("2023-01-03T02:00:00.000Z"),
        temp: 10,
        precipitationChance: 86,
        iconClassName: "wi wi-day-cloudy",
        label: "Overcast clouds",
      },
      {
        date: "04",
        dt: new Date("2023-01-03T03:00:00.000Z"),
        temp: 11,
        precipitationChance: 82,
        iconClassName: "wi wi-day-cloudy",
        label: "Overcast clouds",
      },
      {
        date: "05",
        dt: new Date("2023-01-03T04:00:00.000Z"),
        temp: 11,
        precipitationChance: 32,
        iconClassName: "wi wi-day-cloudy",
        label: "Overcast clouds",
      },
      {
        date: "06",
        dt: new Date("2023-01-03T05:00:00.000Z"),
        temp: 11,
        precipitationChance: 32,
        iconClassName: "wi wi-day-cloudy",
        label: "Overcast clouds",
      },
      {
        date: "07",
        dt: new Date("2023-01-03T06:00:00.000Z"),
        temp: 11,
        precipitationChance: 32,
        iconClassName: "wi wi-day-cloudy",
        label: "Overcast clouds",
      },
      {
        date: "08",
        dt: new Date("2023-01-03T07:00:00.000Z"),
        temp: 11,
        precipitationChance: 28,
        iconClassName: "wi wi-day-cloudy",
        label: "Overcast clouds",
      },
      {
        date: "09",
        dt: new Date("2023-01-03T08:00:00.000Z"),
        temp: 11,
        precipitationChance: 28,
        iconClassName: "wi wi-day-cloudy",
        label: "Overcast clouds",
      },
      {
        date: "10",
        dt: new Date("2023-01-03T09:00:00.000Z"),
        temp: 12,
        precipitationChance: 28,
        iconClassName: "wi wi-day-cloudy",
        label: "Overcast clouds",
      },
      {
        date: "11",
        dt: new Date("2023-01-03T10:00:00.000Z"),
        temp: 12,
        precipitationChance: 3,
        iconClassName: "wi wi-day-cloudy",
        label: "Overcast clouds",
      },
      {
        date: "12",
        dt: new Date("2023-01-03T11:00:00.000Z"),
        temp: 13,
        precipitationChance: 6,
        iconClassName: "wi wi-day-cloudy",
        label: "Overcast clouds",
      },
      {
        date: "13",
        dt: new Date("2023-01-03T12:00:00.000Z"),
        temp: 14,
        precipitationChance: 3,
        iconClassName: "wi wi-day-cloudy",
        label: "Overcast clouds",
      },
      {
        date: "14",
        dt: new Date("2023-01-03T13:00:00.000Z"),
        temp: 14,
        precipitationChance: 0,
        iconClassName: "wi wi-day-cloudy",
        label: "Overcast clouds",
      },
      {
        date: "15",
        dt: new Date("2023-01-03T14:00:00.000Z"),
        temp: 14,
        precipitationChance: 0,
        iconClassName: "wi wi-day-cloudy",
        label: "Overcast clouds",
      },
      {
        date: "16",
        dt: new Date("2023-01-03T15:00:00.000Z"),
        temp: 14,
        precipitationChance: 0,
        iconClassName: "wi wi-day-cloudy",
        label: "Overcast clouds",
      },
      {
        date: "17",
        dt: new Date("2023-01-03T16:00:00.000Z"),
        temp: 14,
        precipitationChance: 0,
        iconClassName: "wi wi-day-cloudy",
        label: "Overcast clouds",
      },
      {
        date: "18",
        dt: new Date("2023-01-03T17:00:00.000Z"),
        temp: 13,
        precipitationChance: 0,
        iconClassName: "wi wi-day-cloudy",
        label: "Overcast clouds",
      },
      {
        date: "19",
        dt: new Date("2023-01-03T18:00:00.000Z"),
        temp: 13,
        precipitationChance: 0,
        iconClassName: "wi wi-day-cloudy",
        label: "Overcast clouds",
      },
      {
        date: "20",
        dt: new Date("2023-01-03T19:00:00.000Z"),
        temp: 13,
        precipitationChance: 0,
        iconClassName: "wi wi-day-cloudy",
        label: "Overcast clouds",
      },
      {
        date: "21",
        dt: new Date("2023-01-03T20:00:00.000Z"),
        temp: 13,
        precipitationChance: 0,
        iconClassName: "wi wi-day-cloudy",
        label: "Overcast clouds",
      },
      {
        date: "22",
        dt: new Date("2023-01-03T21:00:00.000Z"),
        temp: 13,
        precipitationChance: 0,
        iconClassName: "wi wi-day-cloudy",
        label: "Overcast clouds",
      },
      {
        date: "23",
        dt: new Date("2023-01-03T22:00:00.000Z"),
        temp: 13,
        precipitationChance: 0,
        iconClassName: "wi wi-day-cloudy",
        label: "Overcast clouds",
      },
      {
        date: "00",
        dt: new Date("2023-01-03T23:00:00.000Z"),
        temp: 13,
        precipitationChance: 0,
        iconClassName: "wi wi-day-cloudy",
        label: "Overcast clouds",
      },
      {
        date: "01",
        dt: new Date("2023-01-04T00:00:00.000Z"),
        temp: 13,
        precipitationChance: 0,
        iconClassName: "wi wi-day-cloudy",
        label: "Overcast clouds",
      },
      {
        date: "02",
        dt: new Date("2023-01-04T01:00:00.000Z"),
        temp: 13,
        precipitationChance: 0,
        iconClassName: "wi wi-day-cloudy",
        label: "Overcast clouds",
      },
      {
        date: "03",
        dt: new Date("2023-01-04T02:00:00.000Z"),
        temp: 13,
        precipitationChance: 0,
        iconClassName: "wi wi-day-cloudy",
        label: "Overcast clouds",
      },
      {
        date: "04",
        dt: new Date("2023-01-04T03:00:00.000Z"),
        temp: 13,
        precipitationChance: 6,
        iconClassName: "wi wi-day-cloudy",
        label: "Overcast clouds",
      },
      {
        date: "05",
        dt: new Date("2023-01-04T04:00:00.000Z"),
        temp: 13,
        precipitationChance: 14,
        iconClassName: "wi wi-day-cloudy",
        label: "Overcast clouds",
      },
      {
        date: "06",
        dt: new Date("2023-01-04T05:00:00.000Z"),
        temp: 13,
        precipitationChance: 6,
        iconClassName: "wi wi-day-cloudy",
        label: "Overcast clouds",
      },
      {
        date: "07",
        dt: new Date("2023-01-04T06:00:00.000Z"),
        temp: 14,
        precipitationChance: 2,
        iconClassName: "wi wi-day-cloudy",
        label: "Overcast clouds",
      },
      {
        date: "08",
        dt: new Date("2023-01-04T07:00:00.000Z"),
        temp: 14,
        precipitationChance: 9,
        iconClassName: "wi wi-day-cloudy",
        label: "Overcast clouds",
      },
      {
        date: "09",
        dt: new Date("2023-01-04T08:00:00.000Z"),
        temp: 14,
        precipitationChance: 19,
        iconClassName: "wi wi-day-cloudy",
        label: "Overcast clouds",
      },
      {
        date: "10",
        dt: new Date("2023-01-04T09:00:00.000Z"),
        temp: 14,
        precipitationChance: 48,
        iconClassName: "wi wi-day-rain",
        label: "Light rain",
      },
      {
        date: "11",
        dt: new Date("2023-01-04T10:00:00.000Z"),
        temp: 13,
        precipitationChance: 97,
        iconClassName: "wi wi-day-rain",
        label: "Light rain",
      },
      {
        date: "12",
        dt: new Date("2023-01-04T11:00:00.000Z"),
        temp: 13,
        precipitationChance: 95,
        iconClassName: "wi wi-day-rain",
        label: "Moderate rain",
      },
      {
        date: "13",
        dt: new Date("2023-01-04T12:00:00.000Z"),
        temp: 13,
        precipitationChance: 96,
        iconClassName: "wi wi-day-rain",
        label: "Moderate rain",
      },
      {
        date: "14",
        dt: new Date("2023-01-04T13:00:00.000Z"),
        temp: 13,
        precipitationChance: 97,
        iconClassName: "wi wi-day-rain",
        label: "Moderate rain",
      },
      {
        date: "15",
        dt: new Date("2023-01-04T14:00:00.000Z"),
        temp: 13,
        precipitationChance: 97,
        iconClassName: "wi wi-day-rain",
        label: "Light rain",
      },
      {
        date: "16",
        dt: new Date("2023-01-04T15:00:00.000Z"),
        temp: 13,
        precipitationChance: 97,
        iconClassName: "wi wi-day-rain",
        label: "Light rain",
      },
      {
        date: "17",
        dt: new Date("2023-01-04T16:00:00.000Z"),
        temp: 13,
        precipitationChance: 81,
        iconClassName: "wi wi-day-rain",
        label: "Light rain",
      },
      {
        date: "18",
        dt: new Date("2023-01-04T17:00:00.000Z"),
        temp: 13,
        precipitationChance: 81,
        iconClassName: "wi wi-day-rain",
        label: "Light rain",
      },
      {
        date: "19",
        dt: new Date("2023-01-04T18:00:00.000Z"),
        temp: 14,
        precipitationChance: 81,
        iconClassName: "wi wi-day-rain",
        label: "Light rain",
      },
    ],
    daily: [
      {
        barEnd: "64.38",
        barStart: "0.60",
        sunrise: 1672671520,
        sunset: 1672707296,
        fullDate: "Jan 2, 2023",
        date: "Today",
        temp: { min: 10, max: 14 },
        precipitationChance: 89,
        iconClassName: "wi wi-day-rain",
        label: "Light rain",
      },
      {
        barEnd: "59.82",
        barStart: "1.39",
        sunrise: 1672757929,
        sunset: 1672793742,
        fullDate: "Jan 3, 2023",
        date: "Tue",
        temp: { min: 10, max: 14 },
        precipitationChance: 87,
        iconClassName: "wi wi-day-rain",
        label: "Light rain",
      },
      {
        barEnd: "57.74",
        barStart: "25.20",
        sunrise: 1672844336,
        sunset: 1672880188,
        fullDate: "Jan 4, 2023",
        date: "Wed",
        temp: { min: 13, max: 14 },
        precipitationChance: 97,
        iconClassName: "wi wi-day-rain",
        label: "Moderate rain",
      },
      {
        barEnd: "62.90",
        barStart: "16.17",
        sunrise: 1672930741,
        sunset: 1672966636,
        fullDate: "Jan 5, 2023",
        date: "Thu",
        temp: { min: 12, max: 14 },
        precipitationChance: 100,
        iconClassName: "wi wi-day-rain",
        label: "Heavy intensity rain",
      },
      {
        barEnd: "41.07",
        barStart: "0.00",
        sunrise: 1673017144,
        sunset: 1673053085,
        fullDate: "Jan 6, 2023",
        date: "Fri",
        temp: { min: 10, max: 16 },
        precipitationChance: 0,
        iconClassName: "wi wi-day-cloudy",
        label: "Scattered clouds",
      },
      {
        barEnd: "12.70",
        barStart: "15.48",
        sunrise: 1673103546,
        sunset: 1673139535,
        fullDate: "Jan 7, 2023",
        date: "Sat",
        temp: { min: 12, max: 19 },
        precipitationChance: 0,
        iconClassName: "wi wi-day-cloudy",
        label: "Scattered clouds",
      },
      {
        barEnd: "13.10",
        barStart: "32.04",
        sunrise: 1673189946,
        sunset: 1673225986,
        fullDate: "Jan 8, 2023",
        date: "Sun",
        temp: { min: 13, max: 19 },
        precipitationChance: 0,
        iconClassName: "wi wi-day-cloudy",
        label: "Overcast clouds",
      },
      {
        barEnd: "0.00",
        barStart: "33.23",
        sunrise: 1673276344,
        sunset: 1673312437,
        fullDate: "Jan 9, 2023",
        date: "Mon",
        temp: { min: 14, max: 20 },
        precipitationChance: 0,
        iconClassName: "wi wi-day-cloudy",
        label: "Scattered clouds",
      },
    ],
  });
});
